Test apply design pattern

State pattern